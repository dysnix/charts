apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "geth.fullname" . }}-scripts
  labels:
    {{- include "geth.labels" . | nindent 4 }}
data:
  check-readiness.sh: |-
    {{- include (print $.Template.BasePath "/scripts/_check-readiness.tpl") . | nindent 4 }}
  {{- if or .Values.syncToS3.enabled .Values.initFromS3.eanbled }}
  init-from-s3.sh: |-
    {{- include (print $.Template.BasePath "/scripts/_init-from-s3.tpl") . | nindent 4 }}
  sync-to-s3.sh: |-
    {{- include (print $.Template.BasePath "/scripts/_sync-to-s3.tpl") . | nindent 4 }}
  s3-env.sh: |-
    {{- include (print $.Template.BasePath "/scripts/_s3-env.tpl") . | nindent 4 }}
  s3-cron.sh: |-
    {{- include (print $.Template.BasePath "/scripts/_s3-cron.tpl") . | nindent 4 }}
  {{- end }}
